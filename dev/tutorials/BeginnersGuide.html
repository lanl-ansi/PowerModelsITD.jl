<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Beginners Guide · PowerModelsITD.jl</title><meta name="title" content="Beginners Guide · PowerModelsITD.jl"/><meta property="og:title" content="Beginners Guide · PowerModelsITD.jl"/><meta property="twitter:title" content="Beginners Guide · PowerModelsITD.jl"/><meta name="description" content="Documentation for PowerModelsITD.jl."/><meta property="og:description" content="Documentation for PowerModelsITD.jl."/><meta property="twitter:description" content="Documentation for PowerModelsITD.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../index.html"><img src="../assets/logo.svg" alt="PowerModelsITD.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../index.html">PowerModelsITD.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../index.html">Introduction</a></li><li><a class="tocitem" href="../installation.html">Installation Guide</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../manual/quickguide.html">Getting Started</a></li><li><a class="tocitem" href="../manual/fileformat.html">File Formats</a></li><li><a class="tocitem" href="../manual/formulations.html">Formulations</a></li><li><a class="tocitem" href="../manual/storage.html">Storage</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox" checked/><label class="tocitem" for="menuitem-4"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href="BeginnersGuide.html">Beginners Guide</a><ul class="internal"><li><a class="tocitem" href="#Example-Case-#1:-Solving-a-simple-Integrated-T-and-D-Optimal-Power-Flow-(OPFITD)"><span>Example Case #1: Solving a simple Integrated T&amp;D Optimal Power Flow (OPFITD)</span></a></li><li><a class="tocitem" href="#Example-Case-#2:-Solving-a-Multinetwork-(Time-series)-Multisystem-(Multiple-Distribution-Systems)-OPFITD"><span>Example Case #2: Solving a Multinetwork (Time-series) Multisystem (Multiple Distribution Systems) OPFITD</span></a></li><li><a class="tocitem" href="#Example-Case-#3:-Solving-OPFITD-with-voltage-bounds-(support-for-PowerModelsDistribution-(PMD)-Transformations)"><span>Example Case #3: Solving OPFITD with voltage bounds (support for PowerModelsDistribution (PMD) Transformations)</span></a></li><li><a class="tocitem" href="#Example-Case-#4:-Solving-OPFITD-with-Solution-Processors-(apply-solution-processor-to-convert-voltage-values-solutions-from-rectangular-to-polar-coordinates)"><span>Example Case #4: Solving OPFITD with Solution Processors (apply solution processor to convert voltage values solutions from <code>rectangular</code> to <code>polar</code> coordinates)</span></a></li><li><a class="tocitem" href="#Example-Case-#5:-Solving-OPFITD-with-Results-in-MATH-Model-(instead-of-default-ENG)"><span>Example Case #5: Solving OPFITD with Results in <code>MATH</code> Model (instead of default <code>ENG</code>)</span></a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../reference/base.html">Base</a></li><li><a class="tocitem" href="../reference/data_models.html">Data Models</a></li><li><a class="tocitem" href="../reference/formulations.html">Formulations</a></li><li><a class="tocitem" href="../reference/problems.html">Problems</a></li><li><a class="tocitem" href="../reference/variables.html">Variables</a></li><li><a class="tocitem" href="../reference/constraints.html">Constraints</a></li><li><a class="tocitem" href="../reference/objectives.html">Objectives</a></li><li><a class="tocitem" href="../reference/constants.html">Constants</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Developer Docs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../developer/contributing.html">Contributing</a></li><li><a class="tocitem" href="../developer/style.html">Style Guide</a></li><li><a class="tocitem" href="../developer/roadmap.html">Roadmap</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href="BeginnersGuide.html">Beginners Guide</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="BeginnersGuide.html">Beginners Guide</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/lanl-ansi/PowerModelsITD.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/lanl-ansi/PowerModelsITD.jl/blob/main/docs/src/tutorials/BeginnersGuide.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Introduction-to-PowerModelsITD"><a class="docs-heading-anchor" href="#Introduction-to-PowerModelsITD">Introduction to PowerModelsITD</a><a id="Introduction-to-PowerModelsITD-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction-to-PowerModelsITD" title="Permalink"></a></h1><p>In this guide, we will go through a beginner guide that demonstrates the current capabilities of <code>PowerModelsITD</code>. This guide will showcase a <em>non-comprehensive</em> list of things you can do with <code>PowerModelsITD</code>.</p><p>Each example case shown in this guide will be divided into <strong>three</strong> main parts.</p><ul><li>(1) Brief explanation of the test case and what we want to do/obtain.</li><li>(2) The Julia code needed to perform the specific case study (<em>users can copy and paste this code directly</em>).</li><li>(3) The console output obtained when the code is executed.</li></ul><p><strong>Important</strong>: All files used in this beginner guide are available in the <code>/test/data</code> folder of the repository.</p><h2 id="Example-Case-#1:-Solving-a-simple-Integrated-T-and-D-Optimal-Power-Flow-(OPFITD)"><a class="docs-heading-anchor" href="#Example-Case-#1:-Solving-a-simple-Integrated-T-and-D-Optimal-Power-Flow-(OPFITD)">Example Case #1: Solving a simple Integrated T&amp;D Optimal Power Flow (OPFITD)</a><a id="Example-Case-#1:-Solving-a-simple-Integrated-T-and-D-Optimal-Power-Flow-(OPFITD)-1"></a><a class="docs-heading-anchor-permalink" href="#Example-Case-#1:-Solving-a-simple-Integrated-T-and-D-Optimal-Power-Flow-(OPFITD)" title="Permalink"></a></h2><h3 id="Test-Case-#1"><a class="docs-heading-anchor" href="#Test-Case-#1">Test Case #1</a><a id="Test-Case-#1-1"></a><a class="docs-heading-anchor-permalink" href="#Test-Case-#1" title="Permalink"></a></h3><p>In this example case, we want to solve the integrated T&amp;D optimal power flow (opfitd) problem for a case where we have the <strong>PJM 5-bus system</strong> (<code>case5_withload</code>) as the <em>transmission system</em> and the <strong>IEEE 4 Node Test Feeder</strong> (<code>case3_unbalanced.dss</code>) as the <em>distribution system</em>. The boundary information that specifies the respective boundary buses for both the transmission and distribution systems can be found in <code>case5_case3_unbal.json</code>.</p><p>The formulation used to solve this optimization problem is the <strong>ACP-ACPU</strong> formulation.</p><h3 id="Julia-Code-for-Test-Case-#1"><a class="docs-heading-anchor" href="#Julia-Code-for-Test-Case-#1">Julia Code for Test Case #1</a><a id="Julia-Code-for-Test-Case-#1-1"></a><a class="docs-heading-anchor-permalink" href="#Julia-Code-for-Test-Case-#1" title="Permalink"></a></h3><pre><code class="language-julia hljs">using PowerModelsITD
using Ipopt

silence!()  # Silences the console, so warning messages or information are not displayed

files_path = joinpath(dirname(pathof(PowerModelsITD)), &quot;..&quot;)                    # file path for test cases files
pm_file = joinpath(files_path, &quot;test/data/transmission/case5_withload.m&quot;)       # transmission system file
pmd_file = joinpath(files_path, &quot;test/data/distribution/case3_unbalanced.dss&quot;)  # distribution system file
boundary_file = joinpath(files_path, &quot;test/data/json/case5_case3_unbal.json&quot;)   # boundary file with info. about boundary buses
formulation = NLPowerModelITD{ACPPowerModel, ACPUPowerModel}                    # type of formulation to be used
data = parse_files(pm_file, pmd_file, boundary_file)                        # parse files into dictionary
result = solve_opfitd(data, formulation, Ipopt.Optimizer)                   # solve the opfitd

# Check the result
@info &quot;Objective: $(result[&quot;objective&quot;]) [\$/hr]&quot;
@info &quot;Termination Status of Solver: $(result[&quot;termination_status&quot;])&quot;
@info &quot;Solve Time: $(result[&quot;solve_time&quot;]) [seconds]&quot;
@info &quot;Solution Values for Transmission system: $(result[&quot;solution&quot;][&quot;it&quot;][&quot;pm&quot;])&quot;
@info &quot;Solution Values for Distribution system(s): $(result[&quot;solution&quot;][&quot;it&quot;][&quot;pmd&quot;])&quot;
@info &quot;Solution Values for Boundary(ies): $(result[&quot;solution&quot;][&quot;it&quot;][&quot;pmitd&quot;])&quot;</code></pre><h3 id="Console-Output-for-Test-Case-#1"><a class="docs-heading-anchor" href="#Console-Output-for-Test-Case-#1">Console Output for Test Case #1</a><a id="Console-Output-for-Test-Case-#1-1"></a><a class="docs-heading-anchor-permalink" href="#Console-Output-for-Test-Case-#1" title="Permalink"></a></h3><p>After running the corresponding code, the user should get the following output displayed on the console.</p><pre><code class="language-julia hljs">[ Main | Info ] : Objective: 17953.746512039743 [$/hr]
[ Main | Info ] : Termination Status of Solver: LOCALLY_SOLVED
[ Main | Info ] : Solve Time: 0.05849599838256836 [seconds]

[ Main | Info ] : Solution Values for Transmission system: Dict{String, Any}(&quot;baseMVA&quot; =&gt; 100.0, &quot;branch&quot; =&gt; Dict{String, Any}(&quot;4&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; -215.4572384567855, &quot;qt&quot; =&gt; 220.01471251650577, &quot;pt&quot; =&gt; 72.72770254777281, &quot;pf&quot; =&gt; -72.10324334974787), &quot;1&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; -91.9457671031378, &quot;qt&quot; =&gt; 113.04924896169344, &quot;pt&quot; =&gt; -235.96795359006418, &quot;pf&quot; =&gt; 238.13985616928193), &quot;5&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 71.37529049674947, &quot;qt&quot; =&gt; -69.00868855761938, &quot;pt&quot; =&gt; 57.04309684079022, &quot;pf&quot; =&gt; -56.75055132454856), &quot;2&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 40.82747127060588, &quot;qt&quot; =&gt; -27.51897757380047, &quot;pt&quot; =&gt; -190.17342809935752, &quot;pf&quot; =&gt; 191.55864094141782), &quot;6&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 19.289482716290323, &quot;qt&quot; =&gt; 1.0554040857229503, &quot;pt&quot; =&gt; 239.9976806084548, &quot;pf&quot; =&gt; -237.90830207159405), &quot;7&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 3.7979894950920543, &quot;qt&quot; =&gt; -4.367184067738672, &quot;pt&quot; =&gt; -8.068452673591816, &quot;pf&quot; =&gt; 8.071196939812054), &quot;3&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 208.61829769507162, &quot;qt&quot; =&gt; -204.19918131371665, &quot;pt&quot; =&gt; 220.40004611863847, &quot;pf&quot; =&gt; -219.6984944935753)), &quot;gen&quot; =&gt; Dict{String, Any}(&quot;4&quot; =&gt; Dict{String, Any}(&quot;qg&quot; =&gt; 54.23181658487047, &quot;pg&quot; =&gt; 18.96136666983862), &quot;1&quot; =&gt; Dict{String, Any}(&quot;qg&quot; =&gt; 30.00000079376986, &quot;pg&quot; =&gt; 40.00000096678977), &quot;5&quot; =&gt; Dict{String, Any}(&quot;qg&quot; =&gt; -203.1437772279937, &quot;pg&quot; =&gt; 460.3977267270933), &quot;2&quot; =&gt; Dict{String, Any}(&quot;qg&quot; =&gt; 127.50000106876985, &quot;pg&quot; =&gt; 170.00000165033464), &quot;3&quot; =&gt; Dict{String, Any}(&quot;qg&quot; =&gt; 390.00000301325525, &quot;pg&quot; =&gt; 315.97715122322427)), &quot;multinetwork&quot; =&gt; false, &quot;bus&quot; =&gt; Dict{String, Any}(&quot;4&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; -9.820934169803595e-29, &quot;vm&quot; =&gt; 0.8999999900918129), &quot;1&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; 3.9557118095964663, &quot;vm&quot; =&gt; 0.9178154479809132), &quot;5&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; -0.8036120919989638, &quot;vm&quot; =&gt; 0.9400883479210898), &quot;2&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; -0.6563318572164789, &quot;vm&quot; =&gt; 0.9416319858451535), &quot;10&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; 5.018509000535593, &quot;vm&quot; =&gt; 0.904864159526407), &quot;3&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; -0.3122279603896953, &quot;vm&quot; =&gt; 0.9670939985734723)), &quot;per_unit&quot; =&gt; false)

[ Main | Info ] : Solution Values for Distribution system(s): Dict{String, Any}(&quot;line&quot; =&gt; Dict{String, Any}(&quot;3bus_unbal.quad&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; [1344.7785535214057, 1503.9392726830868, 1502.43791779139], &quot;qt&quot; =&gt; [-1333.3300000000002, -1500.0000000000002, -1500.0000000000002], &quot;pt&quot; =&gt; [-3333.3323371531164, -2333.3323371935803, -2333.3323371900296], &quot;pf&quot; =&gt; [3351.5305232165006, 2340.3516279866967, 2344.8964126191295]), &quot;3bus_unbal.ohline&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; [1354.6163225169614, 1507.2344513630765, 1504.4700979169072], &quot;qt&quot; =&gt; [-1344.7785535214057, -1503.9392726830868, -1502.43791779139], &quot;pt&quot; =&gt; [-3351.5305232165006, -2340.3516279866967, -2344.8964126191295], &quot;pf&quot; =&gt; [3367.110727286094, 2346.3597337552624, 2354.8245890269895])), &quot;settings&quot; =&gt; Dict{String, Any}(&quot;sbase&quot; =&gt; 100000.0), &quot;transformer&quot; =&gt; Dict{String, Any}(&quot;3bus_unbal.subxf&quot; =&gt; Dict{String, Any}(&quot;q&quot; =&gt; [[1354.7952022418647, 1507.3400640138161, 1504.5761375753734], [-1354.6163225169614, -1507.2344513630765, -1504.4700979169072]], &quot;p&quot; =&gt; [[3367.1286152278885, 2346.3702946258413, 2354.835193007617], [-3367.110727286094, -2346.3597337552624, -2354.8245890269895]])), &quot;generator&quot; =&gt; Dict{String, Any}(&quot;3bus_unbal.gen1&quot; =&gt; Dict{String, Any}(&quot;qg_bus&quot; =&gt; [-0.0, -0.0, -0.0], &quot;qg&quot; =&gt; [-0.0, -0.0, -0.0], &quot;pg&quot; =&gt; [666.6676628468832, 666.6676628064197, 666.6676628099706], &quot;pg_bus&quot; =&gt; [666.6676628468832, 666.6676628064197, 666.6676628099706])), &quot;load&quot; =&gt; Dict{String, Any}(&quot;3bus_unbal.l2&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [1500.0000000000002], &quot;pd_bus&quot; =&gt; [3000.0000000000005], &quot;qd&quot; =&gt; [1500.0000000000002], &quot;pd&quot; =&gt; [3000.0000000000005]), &quot;3bus_unbal.l3&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [1500.0000000000002], &quot;pd_bus&quot; =&gt; [3000.0000000000005], &quot;qd&quot; =&gt; [1500.0000000000002], &quot;pd&quot; =&gt; [3000.0000000000005]), &quot;3bus_unbal.l1&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [1333.3300000000002], &quot;pd_bus&quot; =&gt; [4000.0], &quot;qd&quot; =&gt; [1333.3300000000002], &quot;pd&quot; =&gt; [4000.0])), &quot;bus&quot; =&gt; Dict{String, Any}(&quot;3bus_unbal.loadbus&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.9542852429015141, -120.82463162589393, 119.31695673367102], &quot;vm&quot; =&gt; [7.406969380817659, 7.446613395025093, 7.431619824571949]), &quot;3bus_unbal.substation&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8089341499650244, -120.8072185671511, 119.19279637320398], &quot;vm&quot; =&gt; [7.489646348633082, 7.489651704574486, 7.489663202448464]), &quot;3bus_unbal.primary&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8772138344778904, -120.81603057758366, 119.24896754768255], &quot;vm&quot; =&gt; [7.4514218741879255, 7.4697354940559455, 7.462765580863505]), &quot;3bus_unbal.sourcebus&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8064197613818459, -120.80551025323088, 119.19451148306055], &quot;vm&quot; =&gt; [124.83030630100751, 124.83048117738736, 124.8306695534823])), &quot;per_unit&quot; =&gt; false)

[ Main | Info ] : Solution Values for Boundary(ies): Dict{String, Any}(&quot;multinetwork&quot; =&gt; false, &quot;boundary&quot; =&gt; Dict{String, Any}(&quot;(100001, 5, voltage_source.3bus_unbal.source)&quot; =&gt; Dict{String, Any}(&quot;pbound_fr&quot; =&gt; [8068.452673591816], &quot;qbound_fr&quot; =&gt; [4367.184067738673]), &quot;(100001, voltage_source.3bus_unbal.source, 5)&quot; =&gt; Dict{String, Any}(&quot;pbound_to&quot; =&gt; [-3367.1850486607445, -2346.4026604158908, -2354.8649645151804], &quot;qbound_to&quot; =&gt; [-1355.0096276913357, -1507.4706735124998, -1504.7037665348369])))</code></pre><h2 id="Example-Case-#2:-Solving-a-Multinetwork-(Time-series)-Multisystem-(Multiple-Distribution-Systems)-OPFITD"><a class="docs-heading-anchor" href="#Example-Case-#2:-Solving-a-Multinetwork-(Time-series)-Multisystem-(Multiple-Distribution-Systems)-OPFITD">Example Case #2: Solving a Multinetwork (Time-series) Multisystem (Multiple Distribution Systems) OPFITD</a><a id="Example-Case-#2:-Solving-a-Multinetwork-(Time-series)-Multisystem-(Multiple-Distribution-Systems)-OPFITD-1"></a><a class="docs-heading-anchor-permalink" href="#Example-Case-#2:-Solving-a-Multinetwork-(Time-series)-Multisystem-(Multiple-Distribution-Systems)-OPFITD" title="Permalink"></a></h2><h3 id="Test-Case-#2"><a class="docs-heading-anchor" href="#Test-Case-#2">Test Case #2</a><a id="Test-Case-#2-1"></a><a class="docs-heading-anchor-permalink" href="#Test-Case-#2" title="Permalink"></a></h3><p>In this example case, we want to solve the integrated T&amp;D optimal power flow (opfitd) problem for a <strong>Multinetwork</strong> case where we have the <strong>PJM 5-bus system</strong> (<code>case5_with2loads</code>) as the <em>transmission system</em> and <strong>two</strong> copies of the <strong>IEEE 4 Node Test Feeder</strong> (<code>case3_unbalanced_withoutgen_mn.dss</code>) as the <em>distribution systems</em>, where each distribution system has load profiles for their respective loads for <strong>four</strong> timesteps. The boundary information that specifies the respective boundary buses for both the transmission and distribution systems can be found in <code>case5_case3x2.json</code>.</p><p>The formulation used to solve this optimization problem is the <strong>ACP-ACPU</strong> formulation.</p><h3 id="Julia-Code-for-Test-Case-#2"><a class="docs-heading-anchor" href="#Julia-Code-for-Test-Case-#2">Julia Code for Test Case #2</a><a id="Julia-Code-for-Test-Case-#2-1"></a><a class="docs-heading-anchor-permalink" href="#Julia-Code-for-Test-Case-#2" title="Permalink"></a></h3><pre><code class="language-julia hljs">using PowerModelsITD
using Ipopt

silence!()  # Silences the console, so warning messages or information are not displayed

files_path = joinpath(dirname(pathof(PowerModelsITD)), &quot;..&quot;)                                    # file path for test cases files
pm_file = joinpath(files_path, &quot;test/data/transmission/case5_with2loads.m&quot;)                     # transmission system file
pmd_file = joinpath(files_path, &quot;test/data/distribution/case3_unbalanced_withoutgen_mn.dss&quot;)    # distribution system file
boundary_file = joinpath(files_path, &quot;test/data/json/case5_case3x2.json&quot;)                       # boundary file with info. about boundary buses
pmd_files = [pmd_file, pmd_file]                                                                # vector of distrib. systems (in this case a copy of the same)
formulation = NLPowerModelITD{ACPPowerModel, ACPUPowerModel}                                    # type of formulation to be used
result = solve_mn_opfitd(pm_file, pmd_files, boundary_file, formulation, Ipopt.Optimizer; auto_rename=true)  # solve the multinetwork opfitd

# Check the result
@info &quot;Objective: $(result[&quot;objective&quot;]) [\$/hr]&quot;
@info &quot;Termination Status of Solver: $(result[&quot;termination_status&quot;])&quot;
@info &quot;Solve Time: $(result[&quot;solve_time&quot;]) [seconds]&quot;
@info &quot;Solution Values for Transmission system: $(result[&quot;solution&quot;][&quot;it&quot;][&quot;pm&quot;])&quot;
@info &quot;Solution Values for Distribution system(s): $(result[&quot;solution&quot;][&quot;it&quot;][&quot;pmd&quot;])&quot;
@info &quot;Solution Values for Boundary(ies): $(result[&quot;solution&quot;][&quot;it&quot;][&quot;pmitd&quot;])&quot;</code></pre><h3 id="Console-Output-for-Test-Case-#2"><a class="docs-heading-anchor" href="#Console-Output-for-Test-Case-#2">Console Output for Test Case #2</a><a id="Console-Output-for-Test-Case-#2-1"></a><a class="docs-heading-anchor-permalink" href="#Console-Output-for-Test-Case-#2" title="Permalink"></a></h3><p>After running the corresponding code, the user should get the following output displayed on the console.</p><pre><code class="language-julia hljs">[ Main | Info ] : Objective: 71583.37023067646 [$/hr]
[ Main | Info ] : Termination Status of Solver: LOCALLY_SOLVED
[ Main | Info ] : Solve Time: 0.5699648857116699 [seconds]

[ Main | Info ] : Solution Values for Transmission system: Dict{String, Any}(&quot;multinetwork&quot; =&gt; true, &quot;nw&quot; =&gt; Dict{String, Any}(&quot;4&quot; =&gt; Dict{String, Any}(&quot;baseMVA&quot; =&gt; 100.0, &quot;branch&quot; =&gt; Dict{String, Any}(&quot;3&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 209.7124512609962, &quot;qt&quot; =&gt; -205.25808038279263, &quot;pt&quot; =&gt; 220.4516503859562, &quot;pf&quot; =&gt; -219.74655219293345), &quot;4&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; -214.48170261865238, &quot;qt&quot; =&gt; 218.94452403011204, &quot;pt&quot; =&gt; 70.63553676891648, &quot;pf&quot; =&gt; -70.02040086637558), &quot;1&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; -93.26577989474518, &quot;qt&quot; =&gt; 114.45283104138902, &quot;pt&quot; =&gt; -235.99842638945864, &quot;pf&quot; =&gt; 238.17872276993856), &quot;5&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 72.445478971592, &quot;qt&quot; =&gt; -70.00150166186677, &quot;pt&quot; =&gt; 57.688800117737046, &quot;pf&quot; =&gt; -57.388497698913255), &quot;2&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 41.053330496054876, &quot;qt&quot; =&gt; -27.739129989384807, &quot;pt&quot; =&gt; -190.18204403801204, &quot;pf&quot; =&gt; 191.56783204014675), &quot;6&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 19.29122822256867, &quot;qt&quot; =&gt; 1.0536848339377651, &quot;pt&quot; =&gt; 239.99768816280888, &quot;pf&quot; =&gt; -237.90830703516832), &quot;7&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 1.418871577263358, &quot;qt&quot; =&gt; -2.003521254092567, &quot;pt&quot; =&gt; -6.017516284814005, &quot;pf&quot; =&gt; 6.018827255834227), &quot;8&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 0.7049338049713338, &quot;qt&quot; =&gt; -1.2985975532566612, &quot;pt&quot; =&gt; -3.008593331044258, &quot;pf&quot; =&gt; 3.008930510206021)), &quot;gen&quot; =&gt; Dict{String, Any}(&quot;4&quot; =&gt; Dict{String, Any}(&quot;qg&quot; =&gt; 53.02059657131708, &quot;pg&quot; =&gt; 19.598449044556656), &quot;1&quot; =&gt; Dict{String, Any}(&quot;qg&quot; =&gt; 30.00000079365296, &quot;pg&quot; =&gt; 40.00000096679825), &quot;5&quot; =&gt; Dict{String, Any}(&quot;qg&quot; =&gt; -204.20439554885485, &quot;pg&quot; =&gt; 460.449338548765), &quot;2&quot; =&gt; Dict{String, Any}(&quot;qg&quot; =&gt; 127.50000106865294, &quot;pg&quot; =&gt; 170.0000016503536), &quot;3&quot; =&gt; Dict{String, Any}(&quot;qg&quot; =&gt; 390.00000300170404, &quot;pg&quot; =&gt; 313.2470390700032)), &quot;bus&quot; =&gt; Dict{String, Any}(&quot;4&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; -4.8091331437638894e-29, &quot;vm&quot; =&gt; 0.8999999900913073), &quot;1&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; 3.955108495412184, &quot;vm&quot; =&gt; 0.9178896115768673), &quot;5&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; -0.7695989397082574, &quot;vm&quot; =&gt; 0.9413800134626195), &quot;2&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; -0.6574104691903474, &quot;vm&quot; =&gt; 0.9421095463639055), &quot;6&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; -0.8254740984569308, &quot;vm&quot; =&gt; 0.9409689065117178), &quot;10&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; 5.018515926892925, &quot;vm&quot; =&gt; 0.9048635910623162), &quot;3&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; -0.3270759541168204, &quot;vm&quot; =&gt; 0.967421494353026))), &quot;1&quot; =&gt; Dict{String, Any}(&quot;baseMVA&quot; =&gt; 100.0, &quot;branch&quot; =&gt; Dict{String, Any}(&quot;3&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 209.71245126093345, &quot;qt&quot; =&gt; -205.25808038273263, &quot;pt&quot; =&gt; 220.4516503861189, &quot;pf&quot; =&gt; -219.74655219309614), &quot;4&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; -214.4817026186947, &quot;qt&quot; =&gt; 218.94452403016115, &quot;pt&quot; =&gt; 70.6355367692654, &quot;pf&quot; =&gt; -70.02040086672375), &quot;1&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; -93.26577989466723, &quot;qt&quot; =&gt; 114.45283104133719, &quot;pt&quot; =&gt; -235.9984263896544, &quot;pf&quot; =&gt; 238.17872277013694), &quot;5&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 72.44547897154284, &quot;qt&quot; =&gt; -70.001501661815, &quot;pt&quot; =&gt; 57.68880011784228, &quot;pf&quot; =&gt; -57.38849769901818), &quot;2&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 41.05333049603968, &quot;qt&quot; =&gt; -27.73912998937486, &quot;pt&quot; =&gt; -190.1820440379769, &quot;pf&quot; =&gt; 191.56783204011106), &quot;6&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 19.291228222568602, &quot;qt&quot; =&gt; 1.0536848339378524, &quot;pt&quot; =&gt; 239.99768816280888, &quot;pf&quot; =&gt; -237.90830703516832), &quot;7&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 1.4188715773575376, &quot;qt&quot; =&gt; -2.003521254185469, &quot;pt&quot; =&gt; -6.017516285357827, &quot;pf&quot; =&gt; 6.0188272563781675), &quot;8&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 0.7049338050415234, &quot;qt&quot; =&gt; -1.2985975533248926, &quot;pt&quot; =&gt; -3.0085933319508262, &quot;pf&quot; =&gt; 3.0089305111127547)), &quot;gen&quot; =&gt; Dict{String, Any}(&quot;4&quot; =&gt; Dict{String, Any}(&quot;qg&quot; =&gt; 53.02059657137874, &quot;pg&quot; =&gt; 19.598449044697038), &quot;1&quot; =&gt; Dict{String, Any}(&quot;qg&quot; =&gt; 30.00000079365296, &quot;pg&quot; =&gt; 40.00000096679825), &quot;5&quot; =&gt; Dict{String, Any}(&quot;qg&quot; =&gt; -204.2043955487948, &quot;pg&quot; =&gt; 460.44933854892776), &quot;2&quot; =&gt; Dict{String, Any}(&quot;qg&quot; =&gt; 127.50000106865294, &quot;pg&quot; =&gt; 170.0000016503536), &quot;3&quot; =&gt; Dict{String, Any}(&quot;qg&quot; =&gt; 390.00000300170404, &quot;pg&quot; =&gt; 313.24703907024724)), &quot;bus&quot; =&gt; Dict{String, Any}(&quot;4&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; 1.2906268155608688e-29, &quot;vm&quot; =&gt; 0.8999999900913073), &quot;1&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; 3.9551084954114852, &quot;vm&quot; =&gt; 0.9178896115768619), &quot;5&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; -0.7695989397229616, &quot;vm&quot; =&gt; 0.9413800134625423), &quot;2&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; -0.6574104691947822, &quot;vm&quot; =&gt; 0.9421095463638751), &quot;6&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; -0.8254740984889308, &quot;vm&quot; =&gt; 0.9409689065115902), &quot;10&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; 5.018515926892924, &quot;vm&quot; =&gt; 0.9048635910623162), &quot;3&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; -0.3270759541189024, &quot;vm&quot; =&gt; 0.9674214943530053))), &quot;2&quot; =&gt; Dict{String, Any}(&quot;baseMVA&quot; =&gt; 100.0, &quot;branch&quot; =&gt; Dict{String, Any}(&quot;3&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 209.71245126094163, &quot;qt&quot; =&gt; -205.25808038273715, &quot;pt&quot; =&gt; 220.45165038612856, &quot;pf&quot; =&gt; -219.74655219310594), &quot;4&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; -214.4817026186913, &quot;qt&quot; =&gt; 218.94452403015868, &quot;pt&quot; =&gt; 70.63553676925657, &quot;pf&quot; =&gt; -70.02040086671512), &quot;1&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; -93.26577989467265, &quot;qt&quot; =&gt; 114.45283104134505, &quot;pt&quot; =&gt; -235.99842638966595, &quot;pf&quot; =&gt; 238.1787227701487), &quot;5&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 72.44547897154538, &quot;qt&quot; =&gt; -70.00150166181722, &quot;pt&quot; =&gt; 57.688800117857696, &quot;pf&quot; =&gt; -57.38849769903358), &quot;2&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 41.053330496036935, &quot;qt&quot; =&gt; -27.739129989371886, &quot;pt&quot; =&gt; -190.18204403797492, &quot;pf&quot; =&gt; 191.56783204010912), &quot;6&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 19.291228222572368, &quot;qt&quot; =&gt; 1.0536848339335343, &quot;pt&quot; =&gt; 239.99768816280888, &quot;pf&quot; =&gt; -237.90830703516826), &quot;7&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 1.4188715773462648, &quot;qt&quot; =&gt; -2.0035212541732794, &quot;pt&quot; =&gt; -6.017516285360724, &quot;pf&quot; =&gt; 6.0188272563810745), &quot;8&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 0.7049338050293561, &quot;qt&quot; =&gt; -1.2985975533139513, &quot;pt&quot; =&gt; -3.008593331590926, &quot;pf&quot; =&gt; 3.008930510752742)), &quot;gen&quot; =&gt; Dict{String, Any}(&quot;4&quot; =&gt; Dict{String, Any}(&quot;qg&quot; =&gt; 53.02059657138327, &quot;pg&quot; =&gt; 19.59844904471449), &quot;1&quot; =&gt; Dict{String, Any}(&quot;qg&quot; =&gt; 30.00000079365296, &quot;pg&quot; =&gt; 40.00000096679825), &quot;5&quot; =&gt; Dict{String, Any}(&quot;qg&quot; =&gt; -204.2043955488037, &quot;pg&quot; =&gt; 460.4493385489374), &quot;2&quot; =&gt; Dict{String, Any}(&quot;qg&quot; =&gt; 127.50000106865294, &quot;pg&quot; =&gt; 170.0000016503536), &quot;3&quot; =&gt; Dict{String, Any}(&quot;qg&quot; =&gt; 390.00000300170404, &quot;pg&quot; =&gt; 313.24703907022297)), &quot;bus&quot; =&gt; Dict{String, Any}(&quot;4&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; -8.850496391421805e-29, &quot;vm&quot; =&gt; 0.8999999900913073), &quot;1&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; 3.9551084954114537, &quot;vm&quot; =&gt; 0.9178896115768609), &quot;5&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; -0.7695989397233032, &quot;vm&quot; =&gt; 0.9413800134625466), &quot;2&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; -0.6574104691950458, &quot;vm&quot; =&gt; 0.9421095463638758), &quot;6&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; -0.8254740984823784, &quot;vm&quot; =&gt; 0.9409689065116095), &quot;10&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; 5.018515926892941, &quot;vm&quot; =&gt; 0.9048635910623148), &quot;3&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; -0.3270759541192233, &quot;vm&quot; =&gt; 0.9674214943530055))), &quot;3&quot; =&gt; Dict{String, Any}(&quot;baseMVA&quot; =&gt; 100.0, &quot;branch&quot; =&gt; Dict{String, Any}(&quot;3&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 209.7124512609906, &quot;qt&quot; =&gt; -205.2580803827864, &quot;pt&quot; =&gt; 220.45165038608707, &quot;pf&quot; =&gt; -219.7465521930642), &quot;4&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; -214.48170261865874, &quot;qt&quot; =&gt; 218.94452403012218, &quot;pt&quot; =&gt; 70.63553676895856, &quot;pf&quot; =&gt; -70.0204008664175), &quot;1&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; -93.26577989472547, &quot;qt&quot; =&gt; 114.45283104139405, &quot;pt&quot; =&gt; -235.9984263896151, &quot;pf&quot; =&gt; 238.17872277009747), &quot;5&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 72.44547897158185, &quot;qt&quot; =&gt; -70.00150166185058, &quot;pt&quot; =&gt; 57.6888001178973, &quot;pf&quot; =&gt; -57.38849769907291), &quot;2&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 41.05333049604079, &quot;qt&quot; =&gt; -27.739129989375172, &quot;pt&quot; =&gt; -190.1820440379844, &quot;pf&quot; =&gt; 191.56783204011862), &quot;6&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 19.291228222579896, &quot;qt&quot; =&gt; 1.0536848339270362, &quot;pt&quot; =&gt; 239.99768816280894, &quot;pf&quot; =&gt; -237.90830703516818), &quot;7&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 1.4188715772646756, &quot;qt&quot; =&gt; -2.0035212540928145, &quot;pt&quot; =&gt; -6.017516285012341, &quot;pf&quot; =&gt; 6.018827256032563), &quot;8&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; 0.7049338050059494, &quot;qt&quot; =&gt; -1.298597553290569, &quot;pt&quot; =&gt; -3.008593331239918, &quot;pf&quot; =&gt; 3.0089305104016915)), &quot;gen&quot; =&gt; Dict{String, Any}(&quot;4&quot; =&gt; Dict{String, Any}(&quot;qg&quot; =&gt; 53.02059657135414, &quot;pg&quot; =&gt; 19.598449044744708), &quot;1&quot; =&gt; Dict{String, Any}(&quot;qg&quot; =&gt; 30.00000079365296, &quot;pg&quot; =&gt; 40.00000096679825), &quot;5&quot; =&gt; Dict{String, Any}(&quot;qg&quot; =&gt; -204.20439554885937, &quot;pg&quot; =&gt; 460.44933854889604), &quot;2&quot; =&gt; Dict{String, Any}(&quot;qg&quot; =&gt; 127.50000106865294, &quot;pg&quot; =&gt; 170.0000016503536), &quot;3&quot; =&gt; Dict{String, Any}(&quot;qg&quot; =&gt; 390.00000300170404, &quot;pg&quot; =&gt; 313.24703906988566)), &quot;bus&quot; =&gt; Dict{String, Any}(&quot;4&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; 4.6922476467138066e-29, &quot;vm&quot; =&gt; 0.8999999900913073), &quot;1&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; 3.9551084954116407, &quot;vm&quot; =&gt; 0.9178896115768624), &quot;5&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; -0.7695989397156218, &quot;vm&quot; =&gt; 0.9413800134626014), &quot;2&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; -0.6574104691939039, &quot;vm&quot; =&gt; 0.9421095463638939), &quot;6&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; -0.8254740984679912, &quot;vm&quot; =&gt; 0.9409689065116826), &quot;10&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; 5.0185159268929675, &quot;vm&quot; =&gt; 0.9048635910623125), &quot;3&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; -0.3270759541200902, &quot;vm&quot; =&gt; 0.967421494353016)))), &quot;per_unit&quot; =&gt; false)

[ Main | Info ] : Solution Values for Distribution system(s): Dict{String, Any}(&quot;nw&quot; =&gt; Dict{String, Dict{String, Any}}(&quot;4&quot; =&gt; Dict(&quot;line&quot; =&gt; Dict{String, Any}(&quot;3bus_unbal_nogen_mn.ohline&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; [400.5777180879746, 449.1439873945076, 448.7567158126756], &quot;qt&quot; =&gt; [-400.3834881406001, -449.61753973455666, -449.40808066075476], &quot;pt&quot; =&gt; [-1202.2047813968609, -900.9716820211081, -901.437570378043], &quot;pf&quot; =&gt; [1204.092342226798, 901.8028241168121, 902.6707125959695]), &quot;3bus_unbal_nogen_mn_2.quad&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; [400.3857159633698, 449.61909326817045, 449.40944838966254], &quot;qt&quot; =&gt; [-399.999, -450.00000000000006, -450.00000000000006], &quot;pt&quot; =&gt; [-1200.0, -900.0000000000001, -900.0000000000001], &quot;pf&quot; =&gt; [1202.206724198158, 900.9725348138786, 901.4388339186033]), &quot;3bus_unbal_nogen_mn.quad&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; [400.3834881406001, 449.61753973455666, 449.40808066075476], &quot;qt&quot; =&gt; [-399.999, -450.00000000000006, -450.00000000000006], &quot;pt&quot; =&gt; [-1200.0, -900.0000000000001, -900.0000000000001], &quot;pf&quot; =&gt; [1202.2047813968609, 900.9716820211081, 901.437570378043]), &quot;3bus_unbal_nogen_mn_2.ohline&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; [400.5820103770306, 449.147016724407, 448.75940230925625], &quot;qt&quot; =&gt; [-400.3857159633698, -449.61909326817045, -449.40944838966254], &quot;pt&quot; =&gt; [-1202.206724198158, -900.9725348138786, -901.4388339186033], &quot;pf&quot; =&gt; [1204.0959489625075, 901.8044071741432, 902.673061143103])), &quot;settings&quot; =&gt; Dict{String, Any}(&quot;sbase&quot; =&gt; 100000.0), &quot;transformer&quot; =&gt; Dict{String, Any}(&quot;3bus_unbal_nogen_mn_2.subxf&quot; =&gt; Dict{String, Any}(&quot;q&quot; =&gt; [[400.60383553276677, 449.1607731500957, 448.77317528774904], [-400.5820103770306, -449.147016724407, -448.75940230925625]], &quot;p&quot; =&gt; [[1204.0981313859945, 901.8057826939303, 902.6744388456775], [-1204.0959489625075, -901.8044071741432, -902.673061143103]]), &quot;3bus_unbal_nogen_mn.subxf&quot; =&gt; Dict{String, Any}(&quot;q&quot; =&gt; [[400.59952401926625, 449.1577317466543, 448.77047663804154], [-400.5777180879746, -449.1439873945076, -448.7567158126756]], &quot;p&quot; =&gt; [[1204.0945224674979, 901.804198545205, 902.672088661453], [-1204.092342226798, -901.8028241168121, -902.6707125959695]])), &quot;load&quot; =&gt; Dict{String, Any}(&quot;3bus_unbal_nogen_mn_2.l1&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [399.999], &quot;pd_bus&quot; =&gt; [1200.0], &quot;qd&quot; =&gt; [399.999], &quot;pd&quot; =&gt; [1200.0]), &quot;3bus_unbal_nogen_mn.l1&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [399.999], &quot;pd_bus&quot; =&gt; [1200.0], &quot;qd&quot; =&gt; [399.999], &quot;pd&quot; =&gt; [1200.0]), &quot;3bus_unbal_nogen_mn_2.l3&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [450.00000000000006], &quot;pd_bus&quot; =&gt; [900.0000000000001], &quot;qd&quot; =&gt; [450.00000000000006], &quot;pd&quot; =&gt; [900.0000000000001]), &quot;3bus_unbal_nogen_mn.l2&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [450.00000000000006], &quot;pd_bus&quot; =&gt; [900.0000000000001], &quot;qd&quot; =&gt; [450.00000000000006], &quot;pd&quot; =&gt; [900.0000000000001]), &quot;3bus_unbal_nogen_mn_2.l2&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [450.00000000000006], &quot;pd_bus&quot; =&gt; [900.0000000000001], &quot;qd&quot; =&gt; [450.00000000000006], &quot;pd&quot; =&gt; [900.0000000000001]), &quot;3bus_unbal_nogen_mn.l3&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [450.00000000000006], &quot;pd_bus&quot; =&gt; [900.0000000000001], &quot;qd&quot; =&gt; [450.00000000000006], &quot;pd&quot; =&gt; [900.0000000000001])), &quot;bus&quot; =&gt; Dict{String, Any}(&quot;3bus_unbal_nogen_mn.loadbus&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8302295799057324, -120.79137859901346, 119.2504000096645], &quot;vm&quot; =&gt; [7.472201725143692, 7.48392238161073, 7.479449806375467]), &quot;3bus_unbal_nogen_mn.sourcebus&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.7706229194665752, -120.77035368944988, 119.22965458272802], &quot;vm&quot; =&gt; [125.00492912857915, 125.0049742054994, 125.00503001738106]), &quot;3bus_unbal_nogen_mn.primary&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.7991413115394987, -120.78074600616584, 119.23848685007212], &quot;vm&quot; =&gt; [7.487284000425346, 7.492696895897028, 7.490619086774545]), &quot;3bus_unbal_nogen_mn_2.primary&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.855042232531755, -120.83663088144945, 119.18261888118052], &quot;vm&quot; =&gt; [7.484002753336548, 7.489418049928727, 7.487339328524334]), &quot;3bus_unbal_nogen_mn.substation&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.7715260550666929, -120.77101852028557, 119.22898904907676], &quot;vm&quot; =&gt; [7.500242832893439, 7.500243675517293, 7.50024705477223]), &quot;3bus_unbal_nogen_mn_2.sourcebus&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8264989754781323, -120.82622950863666, 119.173778769923], &quot;vm&quot; =&gt; [124.95033736057859, 124.95038246062096, 124.95043829748143]), &quot;3bus_unbal_nogen_mn_2.substation&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8274029028977026, -120.8268949215367, 119.17311265297246], &quot;vm&quot; =&gt; [7.496967303220576, 7.496968146567504, 7.496971527361585]), &quot;3bus_unbal_nogen_mn_2.loadbus&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8861577649359917, -120.84727282112708, 119.19454256329932], &quot;vm&quot; =&gt; [7.468913830909152, 7.480639684348965, 7.476165145424161])), &quot;per_unit&quot; =&gt; false), &quot;1&quot; =&gt; Dict(&quot;line&quot; =&gt; Dict{String, Any}(&quot;3bus_unbal_nogen_mn.ohline&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; [400.57771808779745, 449.1439873947322, 448.7567158126303], &quot;qt&quot; =&gt; [-400.38348814059987, -449.6175397346913, -449.40808066071014], &quot;pt&quot; =&gt; [-1202.204781396862, -900.9716820213755, -901.4375703783082], &quot;pf&quot; =&gt; [1204.09234222689, 901.8028241171684, 902.6707125964111]), &quot;3bus_unbal_nogen_mn_2.quad&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; [400.3857159634153, 449.6190932679933, 449.40944838961826], &quot;qt&quot; =&gt; [-399.999, -450.00000000000006, -450.00000000000006], &quot;pt&quot; =&gt; [-1200.0, -900.0000000000001, -900.0000000000001], &quot;pf&quot; =&gt; [1202.2067241982484, 900.9725348139676, 901.4388339183369]), &quot;3bus_unbal_nogen_mn.quad&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; [400.38348814059987, 449.6175397346913, 449.40808066071014], &quot;qt&quot; =&gt; [-399.999, -450.00000000000006, -450.00000000000006], &quot;pt&quot; =&gt; [-1200.0, -900.0000000000001, -900.0000000000001], &quot;pf&quot; =&gt; [1202.204781396862, 900.9716820213755, 901.4375703783082]), &quot;3bus_unbal_nogen_mn_2.ohline&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; [400.5820103772543, 449.14701672423075, 448.75940230921145], &quot;qt&quot; =&gt; [-400.3857159634153, -449.6190932679933, -449.40944838961826], &quot;pt&quot; =&gt; [-1202.2067241982484, -900.9725348139676, -901.4388339183369], &quot;pf&quot; =&gt; [1204.095948962688, 901.8044071742323, 902.6730611427464])), &quot;settings&quot; =&gt; Dict{String, Any}(&quot;sbase&quot; =&gt; 100000.0), &quot;transformer&quot; =&gt; Dict{String, Any}(&quot;3bus_unbal_nogen_mn_2.subxf&quot; =&gt; Dict{String, Any}(&quot;q&quot; =&gt; [[400.60383553298436, 449.16077317266615, 448.77317528770436], [-400.5820103772543, -449.14701672423075, -448.75940230921145]], &quot;p&quot; =&gt; [[1204.0981315680738, 901.8057830578177, 902.6744392091184], [-1204.095948962688, -901.8044071742323, -902.6730611427464]]), &quot;3bus_unbal_nogen_mn.subxf&quot; =&gt; Dict{String, Any}(&quot;q&quot; =&gt; [[400.59952401908913, 449.15773174687035, 448.7704766493643], [-400.57771808779745, -449.1439873947322, -448.7567158126303]], &quot;p&quot; =&gt; [[1204.0945221037925, 901.8041985455613, 902.6720886618943], [-1204.09234222689, -901.8028241171684, -902.6707125964111]])), &quot;load&quot; =&gt; Dict{String, Any}(&quot;3bus_unbal_nogen_mn_2.l1&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [399.999], &quot;pd_bus&quot; =&gt; [1200.0], &quot;qd&quot; =&gt; [399.999], &quot;pd&quot; =&gt; [1200.0]), &quot;3bus_unbal_nogen_mn.l1&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [399.999], &quot;pd_bus&quot; =&gt; [1200.0], &quot;qd&quot; =&gt; [399.999], &quot;pd&quot; =&gt; [1200.0]), &quot;3bus_unbal_nogen_mn_2.l3&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [450.00000000000006], &quot;pd_bus&quot; =&gt; [900.0000000000001], &quot;qd&quot; =&gt; [450.00000000000006], &quot;pd&quot; =&gt; [900.0000000000001]), &quot;3bus_unbal_nogen_mn.l2&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [450.00000000000006], &quot;pd_bus&quot; =&gt; [900.0000000000001], &quot;qd&quot; =&gt; [450.00000000000006], &quot;pd&quot; =&gt; [900.0000000000001]), &quot;3bus_unbal_nogen_mn_2.l2&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [450.00000000000006], &quot;pd_bus&quot; =&gt; [900.0000000000001], &quot;qd&quot; =&gt; [450.00000000000006], &quot;pd&quot; =&gt; [900.0000000000001]), &quot;3bus_unbal_nogen_mn.l3&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [450.00000000000006], &quot;pd_bus&quot; =&gt; [900.0000000000001], &quot;qd&quot; =&gt; [450.00000000000006], &quot;pd&quot; =&gt; [900.0000000000001])), &quot;bus&quot; =&gt; Dict{String, Any}(&quot;3bus_unbal_nogen_mn.loadbus&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.830229579920092, -120.79137859902801, 119.25040000964974], &quot;vm&quot; =&gt; [7.4722017251430914, 7.483922381610104, 7.479449806374842]), &quot;3bus_unbal_nogen_mn.sourcebus&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.7706229194809523, -120.77035368946459, 119.22965458271331], &quot;vm&quot; =&gt; [125.0049291285691, 125.00497420548916, 125.00503001737073]), &quot;3bus_unbal_nogen_mn.primary&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.7991413115538781, -120.78074600618037, 119.23848685005738], &quot;vm&quot; =&gt; [7.4872840004247445, 7.4926968958964055, 7.490619086773919]), &quot;3bus_unbal_nogen_mn_2.primary&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8550422325640687, -120.83663088148208, 119.18261888114806], &quot;vm&quot; =&gt; [7.484002753335518, 7.489418049927689, 7.487339328523306]), &quot;3bus_unbal_nogen_mn.substation&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.7715260550810701, -120.77101852030012, 119.22898904906208], &quot;vm&quot; =&gt; [7.5002428328928366, 7.500243675516679, 7.5002470547716085]), &quot;3bus_unbal_nogen_mn_2.sourcebus&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8264989755103133, -120.826229508669, 119.17377876989066], &quot;vm&quot; =&gt; [124.95033736056153, 124.95038246060375, 124.95043829746425]), &quot;3bus_unbal_nogen_mn_2.substation&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.827402902930025, -120.82689492156933, 119.17311265293998], &quot;vm&quot; =&gt; [7.4969673032195505, 7.496968146566467, 7.496971527360553]), &quot;3bus_unbal_nogen_mn_2.loadbus&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8861577649683284, -120.84727282115972, 119.19454256326688], &quot;vm&quot; =&gt; [7.468913830908116, 7.4806396843479295, 7.476165145423132])), &quot;per_unit&quot; =&gt; false), &quot;2&quot; =&gt; Dict(&quot;line&quot; =&gt; Dict{String, Any}(&quot;3bus_unbal_nogen_mn.ohline&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; [400.5777180878409, 449.1439873945529, 448.75671581271985], &quot;qt&quot; =&gt; [-400.3834881405547, -449.6175397345132, -449.40808066079904], &quot;pt&quot; =&gt; [-1202.2047813968604, -900.9716820211088, -901.4375703779534], &quot;pf&quot; =&gt; [1204.0923422269757, 901.8028241166346, 902.6707125959689]), &quot;3bus_unbal_nogen_mn_2.quad&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; [400.3857159633255, 449.6190932685255, 449.40944838966266], &quot;qt&quot; =&gt; [-399.999, -450.00000000000006, -450.00000000000006], &quot;pt&quot; =&gt; [-1200.0, -900.0000000000001, -900.0000000000001], &quot;pf&quot; =&gt; [1202.2067241982472, 900.9725348141451, 901.4388339188698]), &quot;3bus_unbal_nogen_mn.quad&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; [400.3834881405547, 449.6175397345132, 449.40808066079904], &quot;qt&quot; =&gt; [-399.999, -450.00000000000006, -450.00000000000006], &quot;pt&quot; =&gt; [-1200.0, -900.0000000000001, -900.0000000000001], &quot;pf&quot; =&gt; [1202.2047813968604, 900.9716820211088, 901.4375703779534]), &quot;3bus_unbal_nogen_mn_2.ohline&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; [400.58201037707516, 449.1470167248505, 448.75940230925687], &quot;qt&quot; =&gt; [-400.3857159633255, -449.6190932685255, -449.40944838966266], &quot;pt&quot; =&gt; [-1202.2067241982472, -900.9725348141451, -901.4388339188698], &quot;pf&quot; =&gt; [1204.095948962507, 901.8044071744985, 902.6730611437251])), &quot;settings&quot; =&gt; Dict{String, Any}(&quot;sbase&quot; =&gt; 100000.0), &quot;transformer&quot; =&gt; Dict{String, Any}(&quot;3bus_unbal_nogen_mn_2.subxf&quot; =&gt; Dict{String, Any}(&quot;q&quot; =&gt; [[400.6038355441561, 449.16077316190854, 448.7731752991101], [-400.58201037707516, -449.1470167248505, -448.75940230925687]], &quot;p&quot; =&gt; [[1204.098131204093, 901.8057832399824, 902.6744390281976], [-1204.095948962507, -901.8044071744985, -902.6730611437251]]), &quot;3bus_unbal_nogen_mn.subxf&quot; =&gt; Dict{String, Any}(&quot;q&quot; =&gt; [[400.5995240305012, 449.157731758069, 448.77047663808975], [-400.5777180878409, -449.1439873945529, -448.75671581271985]], &quot;p&quot; =&gt; [[1204.0945224676755, 901.8041985450279, 902.6720886614527], [-1204.0923422269757, -901.8028241166346, -902.6707125959689]])), &quot;load&quot; =&gt; Dict{String, Any}(&quot;3bus_unbal_nogen_mn_2.l1&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [399.999], &quot;pd_bus&quot; =&gt; [1200.0], &quot;qd&quot; =&gt; [399.999], &quot;pd&quot; =&gt; [1200.0]), &quot;3bus_unbal_nogen_mn.l1&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [399.999], &quot;pd_bus&quot; =&gt; [1200.0], &quot;qd&quot; =&gt; [399.999], &quot;pd&quot; =&gt; [1200.0]), &quot;3bus_unbal_nogen_mn_2.l3&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [450.00000000000006], &quot;pd_bus&quot; =&gt; [900.0000000000001], &quot;qd&quot; =&gt; [450.00000000000006], &quot;pd&quot; =&gt; [900.0000000000001]), &quot;3bus_unbal_nogen_mn.l2&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [450.00000000000006], &quot;pd_bus&quot; =&gt; [900.0000000000001], &quot;qd&quot; =&gt; [450.00000000000006], &quot;pd&quot; =&gt; [900.0000000000001]), &quot;3bus_unbal_nogen_mn_2.l2&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [450.00000000000006], &quot;pd_bus&quot; =&gt; [900.0000000000001], &quot;qd&quot; =&gt; [450.00000000000006], &quot;pd&quot; =&gt; [900.0000000000001]), &quot;3bus_unbal_nogen_mn.l3&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [450.00000000000006], &quot;pd_bus&quot; =&gt; [900.0000000000001], &quot;qd&quot; =&gt; [450.00000000000006], &quot;pd&quot; =&gt; [900.0000000000001])), &quot;bus&quot; =&gt; Dict{String, Any}(&quot;3bus_unbal_nogen_mn.loadbus&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8302295799209277, -120.79137859902852, 119.25040000964935], &quot;vm&quot; =&gt; [7.472201725143105, 7.483922381610151, 7.479449806374883]), &quot;3bus_unbal_nogen_mn.sourcebus&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.7706229194816114, -120.77035368946491, 119.22965458271298], &quot;vm&quot; =&gt; [125.00492912856943, 125.00497420548972, 125.00503001737137]), &quot;3bus_unbal_nogen_mn.primary&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.79914131155471, -120.78074600618085, 119.23848685005699], &quot;vm&quot; =&gt; [7.48728400042476, 7.492696895896448, 7.4906190867739575]), &quot;3bus_unbal_nogen_mn_2.primary&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.85504223255677, -120.83663088147543, 119.18261888115482], &quot;vm&quot; =&gt; [7.4840027533357, 7.489418049927836, 7.487339328523451]), &quot;3bus_unbal_nogen_mn.substation&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.77152605508187, -120.77101852030057, 119.2289890490616], &quot;vm&quot; =&gt; [7.500242832892855, 7.5002436755167095, 7.500247054771646]), &quot;3bus_unbal_nogen_mn_2.sourcebus&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.826498975503429, -120.82622950866259, 119.1737787698974], &quot;vm&quot; =&gt; [124.95033736056432, 124.95038246060629, 124.95043829746685]), &quot;3bus_unbal_nogen_mn_2.substation&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8274029029227165, -120.82689492156277, 119.17311265294684], &quot;vm&quot; =&gt; [7.496967303219722, 7.496968146566622, 7.49697152736071]), &quot;3bus_unbal_nogen_mn_2.loadbus&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8861577649610355, -120.84727282115303, 119.19454256327364], &quot;vm&quot; =&gt; [7.468913830908303, 7.480639684348074, 7.476165145423272])), &quot;per_unit&quot; =&gt; false), &quot;3&quot; =&gt; Dict(&quot;line&quot; =&gt; Dict{String, Any}(&quot;3bus_unbal_nogen_mn.ohline&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; [400.5777180877519, 449.1439873945082, 448.75671581263083], &quot;qt&quot; =&gt; [-400.38348814055513, -449.6175397345571, -449.4080806607989], &quot;pt&quot; =&gt; [-1202.20478139695, -900.9716820211972, -901.4375703778643], &quot;pf&quot; =&gt; [1204.092342226887, 901.8028241168124, 902.6707125957021]), &quot;3bus_unbal_nogen_mn_2.quad&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; [400.38571596332577, 449.6190932680813, 449.40944838961764], &quot;qt&quot; =&gt; [-399.999, -450.00000000000006, -450.00000000000006], &quot;pt&quot; =&gt; [-1200.0, -900.0000000000001, -900.0000000000001], &quot;pf&quot; =&gt; [1202.2067241981586, 900.9725348138778, 901.4388339183367]), &quot;3bus_unbal_nogen_mn.quad&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; [400.38348814055513, 449.6175397345571, 449.4080806607989], &quot;qt&quot; =&gt; [-399.999, -450.00000000000006, -450.00000000000006], &quot;pt&quot; =&gt; [-1200.0, -900.0000000000001, -900.0000000000001], &quot;pf&quot; =&gt; [1202.20478139695, 900.9716820211972, 901.4375703778643]), &quot;3bus_unbal_nogen_mn_2.ohline&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; [400.5820103769862, 449.14701672440617, 448.759402309122], &quot;qt&quot; =&gt; [-400.38571596332577, -449.6190932680813, -449.40944838961764], &quot;pt&quot; =&gt; [-1202.2067241981586, -900.9725348138778, -901.4388339183367], &quot;pf&quot; =&gt; [1204.0959489624188, 901.8044071739638, 902.6730611429242])), &quot;settings&quot; =&gt; Dict{String, Any}(&quot;sbase&quot; =&gt; 100000.0), &quot;transformer&quot; =&gt; Dict{String, Any}(&quot;3bus_unbal_nogen_mn_2.subxf&quot; =&gt; Dict{String, Any}(&quot;q&quot; =&gt; [[400.6038355327163, 449.16077315009466, 448.773175287606], [-400.5820103769862, -449.14701672440617, -448.759402309122]], &quot;p&quot; =&gt; [[1204.0981315678043, 901.8057826937508, 902.6744388454978], [-1204.0959489624188, -901.8044071739638, -902.6730611429242]]), &quot;3bus_unbal_nogen_mn.subxf&quot; =&gt; Dict{String, Any}(&quot;q&quot; =&gt; [[400.5995240190437, 449.1577317239183, 448.7704766379962], [-400.5777180877519, -449.1439873945082, -448.75671581263083]], &quot;p&quot; =&gt; [[1204.0945224675868, 901.8041985452063, 902.6720886611851], [-1204.092342226887, -901.8028241168124, -902.6707125957021]])), &quot;load&quot; =&gt; Dict{String, Any}(&quot;3bus_unbal_nogen_mn_2.l1&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [399.999], &quot;pd_bus&quot; =&gt; [1200.0], &quot;qd&quot; =&gt; [399.999], &quot;pd&quot; =&gt; [1200.0]), &quot;3bus_unbal_nogen_mn.l1&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [399.999], &quot;pd_bus&quot; =&gt; [1200.0], &quot;qd&quot; =&gt; [399.999], &quot;pd&quot; =&gt; [1200.0]), &quot;3bus_unbal_nogen_mn_2.l3&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [450.00000000000006], &quot;pd_bus&quot; =&gt; [900.0000000000001], &quot;qd&quot; =&gt; [450.00000000000006], &quot;pd&quot; =&gt; [900.0000000000001]), &quot;3bus_unbal_nogen_mn.l2&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [450.00000000000006], &quot;pd_bus&quot; =&gt; [900.0000000000001], &quot;qd&quot; =&gt; [450.00000000000006], &quot;pd&quot; =&gt; [900.0000000000001]), &quot;3bus_unbal_nogen_mn_2.l2&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [450.00000000000006], &quot;pd_bus&quot; =&gt; [900.0000000000001], &quot;qd&quot; =&gt; [450.00000000000006], &quot;pd&quot; =&gt; [900.0000000000001]), &quot;3bus_unbal_nogen_mn.l3&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [450.00000000000006], &quot;pd_bus&quot; =&gt; [900.0000000000001], &quot;qd&quot; =&gt; [450.00000000000006], &quot;pd&quot; =&gt; [900.0000000000001])), &quot;bus&quot; =&gt; Dict{String, Any}(&quot;3bus_unbal_nogen_mn.loadbus&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8302295799131064, -120.79137859902089, 119.25040000965717], &quot;vm&quot; =&gt; [7.4722017251435435, 7.483922381610589, 7.479449806375325]), &quot;3bus_unbal_nogen_mn.sourcebus&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.7706229194739376, -120.77035368945725, 119.22965458272064], &quot;vm&quot; =&gt; [125.00492912857676, 125.00497420549705, 125.00503001737864]), &quot;3bus_unbal_nogen_mn.primary&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.7991413115468873, -120.78074600617322, 119.23848685006479], &quot;vm&quot; =&gt; [7.487284000425199, 7.492696895896888, 7.490619086774399]), &quot;3bus_unbal_nogen_mn_2.primary&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.85504223254311, -120.8366308814605, 119.18261888116959], &quot;vm&quot; =&gt; [7.484002753336263, 7.489418049928443, 7.487339328524058]), &quot;3bus_unbal_nogen_mn.substation&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.7715260550740553, -120.77101852029291, 119.2289890490694], &quot;vm&quot; =&gt; [7.500242832893295, 7.500243675517153, 7.500247054772084]), &quot;3bus_unbal_nogen_mn_2.sourcebus&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8264989754893535, -120.82622950864773, 119.17377876991193], &quot;vm&quot; =&gt; [124.95033736057383, 124.95038246061625, 124.95043829747675]), &quot;3bus_unbal_nogen_mn_2.substation&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8274029029090649, -120.82689492154778, 119.17311265296155], &quot;vm&quot; =&gt; [7.496967303220288, 7.496968146567221, 7.496971527361306]), &quot;3bus_unbal_nogen_mn_2.loadbus&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8861577649473606, -120.84727282113812, 119.19454256328841], &quot;vm&quot; =&gt; [7.468913830908865, 7.480639684348685, 7.4761651454238836])), &quot;per_unit&quot; =&gt; false)))

[ Main | Info ] : Solution Values for Boundary(ies): Dict{String, Any}(&quot;multinetwork&quot; =&gt; true, &quot;nw&quot; =&gt; Dict{String, Any}(&quot;4&quot; =&gt; Dict{String, Any}(&quot;boundary&quot; =&gt; Dict{String, Any}(&quot;(100002, voltage_source.3bus_unbal_nogen_mn_2.source, 6)&quot; =&gt; Dict{String, Any}(&quot;pbound_to&quot; =&gt; [-1204.1049622880614, -901.8100181254906, -902.6783506307055], &quot;qbound_to&quot; =&gt; [-400.630030776433, -449.177722118188, -448.78980036204024]), &quot;(100002, 6, voltage_source.3bus_unbal_nogen_mn_2.source)&quot; =&gt; Dict{String, Any}(&quot;pbound_fr&quot; =&gt; [3008.593331044258], &quot;qbound_fr&quot; =&gt; [1298.597553256661]), &quot;(100001, 5, voltage_source.3bus_unbal_nogen_mn.source)&quot; =&gt; Dict{String, Any}(&quot;pbound_fr&quot; =&gt; [3008.5857746079846], &quot;qbound_fr&quot; =&gt; [1298.5874491212335]), &quot;(100001, voltage_source.3bus_unbal_nogen_mn.source, 5)&quot; =&gt; Dict{String, Any}(&quot;pbound_to&quot; =&gt; [-1204.101347358377, -901.8084302478388, -902.6759970017687], &quot;qbound_to&quot; =&gt; [-400.6256962072555, -449.17466583314587, -448.7870870808322]))), &quot;1&quot; =&gt; Dict{String, Any}(&quot;boundary&quot; =&gt; Dict{String, Any}(&quot;(100002, voltage_source.3bus_unbal_nogen_mn_2.source, 6)&quot; =&gt; Dict{String, Any}(&quot;pbound_to&quot; =&gt; [-1204.1049624672987, -901.8100184922217, -902.6783509913059], &quot;qbound_to&quot; =&gt; [-400.6300307993883, -449.17772215213427, -448.78980037337016]), &quot;(100002, 6, voltage_source.3bus_unbal_nogen_mn_2.source)&quot; =&gt; Dict{String, Any}(&quot;pbound_fr&quot; =&gt; [3008.5933319508263], &quot;qbound_fr&quot; =&gt; [1298.5975533248927]), &quot;(100001, 5, voltage_source.3bus_unbal_nogen_mn.source)&quot; =&gt; Dict{String, Any}(&quot;pbound_fr&quot; =&gt; [3008.5857742450717], &quot;qbound_fr&quot; =&gt; [1298.5874491439454]), &quot;(100001, voltage_source.3bus_unbal_nogen_mn.source, 5)&quot; =&gt; Dict{String, Any}(&quot;pbound_to&quot; =&gt; [-1204.1013469861416, -901.8084302538781, -902.6759970050523], &quot;qbound_to&quot; =&gt; [-400.6256961956958, -449.17466584472527, -448.78708710352413]))), &quot;2&quot; =&gt; Dict{String, Any}(&quot;boundary&quot; =&gt; Dict{String, Any}(&quot;(100002, voltage_source.3bus_unbal_nogen_mn_2.source, 6)&quot; =&gt; Dict{String, Any}(&quot;pbound_to&quot; =&gt; [-1204.1049621118384, -901.8100186687032, -902.6783508103842], &quot;qbound_to&quot; =&gt; [-400.63003079917036, -449.17772213001075, -448.7898003847704]), &quot;(100002, 6, voltage_source.3bus_unbal_nogen_mn_2.source)&quot; =&gt; Dict{String, Any}(&quot;pbound_fr&quot; =&gt; [3008.593331590926], &quot;qbound_fr&quot; =&gt; [1298.5975533139513]), &quot;(100001, 5, voltage_source.3bus_unbal_nogen_mn.source)&quot; =&gt; Dict{String, Any}(&quot;pbound_fr&quot; =&gt; [3008.585774607983], &quot;qbound_fr&quot; =&gt; [1298.5874491439235]), &quot;(100001, voltage_source.3bus_unbal_nogen_mn.source, 5)&quot; =&gt; Dict{String, Any}(&quot;pbound_to&quot; =&gt; [-1204.1013473528665, -901.8084302476616, -902.6759970074544], &quot;qbound_to&quot; =&gt; [-400.6256962184772, -449.1746658331913, -448.7870870922549]))), &quot;3&quot; =&gt; Dict{String, Any}(&quot;boundary&quot; =&gt; Dict{String, Any}(&quot;(100002, voltage_source.3bus_unbal_nogen_mn_2.source, 6)&quot; =&gt; Dict{String, Any}(&quot;pbound_to&quot; =&gt; [-1204.1049624727136, -901.8100181281534, -902.6783506390512], &quot;qbound_to&quot; =&gt; [-400.6300307763823, -449.1777221295564, -448.7898003846302]), &quot;(100002, 6, voltage_source.3bus_unbal_nogen_mn_2.source)&quot; =&gt; Dict{String, Any}(&quot;pbound_fr&quot; =&gt; [3008.5933312399184], &quot;qbound_fr&quot; =&gt; [1298.5975532905688]), &quot;(100001, 5, voltage_source.3bus_unbal_nogen_mn.source)&quot; =&gt; Dict{String, Any}(&quot;pbound_fr&quot; =&gt; [3008.58577461065], &quot;qbound_fr&quot; =&gt; [1298.587449086865]), &quot;(100001, voltage_source.3bus_unbal_nogen_mn.source, 5)&quot; =&gt; Dict{String, Any}(&quot;pbound_to&quot; =&gt; [-1204.1013473527794, -901.8084302506836, -902.6759970071865], &quot;qbound_to&quot; =&gt; [-400.62569618428887, -449.1746658104148, -448.7870870921613])))))</code></pre><p>As you can see on the output, the dictionary results have extra keys such as <code>nw</code>, which indicate that this is a multinetwork (multi-timestep) optimization problem. Below the <code>nw</code>, you can find the solutions of the respective multinetwork (i.e., timestep) as <strong>&quot;#&quot;</strong> (e.g., <code>[&quot;nw&quot;][&quot;3&quot;]</code> represents the results for the <strong>3th</strong> timestep).</p><h2 id="Example-Case-#3:-Solving-OPFITD-with-voltage-bounds-(support-for-PowerModelsDistribution-(PMD)-Transformations)"><a class="docs-heading-anchor" href="#Example-Case-#3:-Solving-OPFITD-with-voltage-bounds-(support-for-PowerModelsDistribution-(PMD)-Transformations)">Example Case #3: Solving OPFITD with voltage bounds (support for PowerModelsDistribution (PMD) Transformations)</a><a id="Example-Case-#3:-Solving-OPFITD-with-voltage-bounds-(support-for-PowerModelsDistribution-(PMD)-Transformations)-1"></a><a class="docs-heading-anchor-permalink" href="#Example-Case-#3:-Solving-OPFITD-with-voltage-bounds-(support-for-PowerModelsDistribution-(PMD)-Transformations)" title="Permalink"></a></h2><h3 id="Test-Case-#3"><a class="docs-heading-anchor" href="#Test-Case-#3">Test Case #3</a><a id="Test-Case-#3-1"></a><a class="docs-heading-anchor-permalink" href="#Test-Case-#3" title="Permalink"></a></h3><p>In this example case, we want to solve the integrated T&amp;D optimal power flow (opfitd) problem for a case where we have the <strong>PJM 5-bus system</strong> (<code>case5_withload</code>) as the <em>transmission system</em> and the <strong>IEEE 4 Node Test Feeder</strong> (<code>case3_unbalanced.dss</code>) as the <em>distribution system</em>. The boundary information that specifies the respective boundary buses for both the transmission and distribution systems can be found in <code>case5_case3_unbal.json</code>.</p><p>The formulation used to solve this optimization problem is the <strong>ACP-ACPU</strong> formulation.</p><p>Additionally, we are specifying a <code>PMD</code> transformation for the <strong>distribution system data</strong>. This <strong>transformation</strong> applies <strong>voltage bounds</strong> to all the nodes in the distribution system(s). The function is called <code>apply_voltage_bounds!(...)</code>.</p><h3 id="Julia-Code-for-Test-Case-#3"><a class="docs-heading-anchor" href="#Julia-Code-for-Test-Case-#3">Julia Code for Test Case #3</a><a id="Julia-Code-for-Test-Case-#3-1"></a><a class="docs-heading-anchor-permalink" href="#Julia-Code-for-Test-Case-#3" title="Permalink"></a></h3><pre><code class="language-julia hljs">using PowerModelsITD
using Ipopt

silence!()  # Silences the console, so warning messages or information are not displayed

files_path = joinpath(dirname(pathof(PowerModelsITD)), &quot;..&quot;)                    # file path for test cases files
pm_file = joinpath(files_path, &quot;test/data/transmission/case5_withload.m&quot;)       # transmission system file
pmd_file = joinpath(files_path, &quot;test/data/distribution/case3_unbalanced.dss&quot;)  # distribution system file
boundary_file = joinpath(files_path, &quot;test/data/json/case5_case3_unbal.json&quot;)   # boundary file with info. about boundary buses
formulation = NLPowerModelITD{ACPPowerModel, ACPUPowerModel}                    # type of formulation to be used
data = parse_files(pm_file, pmd_file, boundary_file)                        # parse files into dictionary
# apply transformations
apply_voltage_bounds!(data; vm_lb=0.99, vm_ub=1.01)
# solve the optimization problem
result = solve_opfitd(data, formulation, Ipopt.Optimizer; make_si=false)                   # solve the opfitd

# Check the result
@info &quot;Objective: $(result[&quot;objective&quot;]) [\$/hr]&quot;
@info &quot;Termination Status of Solver: $(result[&quot;termination_status&quot;])&quot;
@info &quot;Solve Time: $(result[&quot;solve_time&quot;]) [seconds]&quot;
@info &quot;Solution Values for Distribution system(s): $(result[&quot;solution&quot;][&quot;it&quot;][&quot;pmd&quot;][&quot;bus&quot;])&quot;</code></pre><h3 id="Console-Output-for-Test-Case-#3"><a class="docs-heading-anchor" href="#Console-Output-for-Test-Case-#3">Console Output for Test Case #3</a><a id="Console-Output-for-Test-Case-#3-1"></a><a class="docs-heading-anchor-permalink" href="#Console-Output-for-Test-Case-#3" title="Permalink"></a></h3><p>After running the corresponding code, the user should get the following output displayed on the console.</p><pre><code class="language-julia hljs">[ Main | Info ] : Objective: 18022.355809587236 [$/hr]
[ Main | Info ] : Termination Status of Solver: LOCALLY_SOLVED
[ Main | Info ] : Solve Time: 0.06421494483947754 [seconds]

[ Main | Info ] : Solution Values for Distribution system(s): Dict{String, Any}(&quot;3bus_unbal.loadbus&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8977463887653532, -120.78309685941274, 119.34177620647625], &quot;vm&quot; =&gt; [0.9899999900302301, 0.9946671975187621, 0.9928991397184561]), &quot;3bus_unbal.substation&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.7693363623113275, -120.76782278704773, 119.23219208890347], &quot;vm&quot; =&gt; [0.999742728740167, 0.999743306402737, 0.9997446568367797]), &quot;3bus_unbal.primary&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8297020935620707, -120.77556386286943, 119.28178890967312], &quot;vm&quot; =&gt; [0.9952384467648019, 0.9973943491437465, 0.9965725113327532]), &quot;3bus_unbal.sourcebus&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.7671158858601453, -120.76631338622572, 119.23370678684667], &quot;vm&quot; =&gt; [0.9997629892456953, 0.9997641961144075, 0.9997655262819723]))</code></pre><p>You can see in these results that the voltage magnitude values of the distribution system nodes is between the <code>0.99</code> and <code>1.01</code> bounds.</p><h2 id="Example-Case-#4:-Solving-OPFITD-with-Solution-Processors-(apply-solution-processor-to-convert-voltage-values-solutions-from-rectangular-to-polar-coordinates)"><a class="docs-heading-anchor" href="#Example-Case-#4:-Solving-OPFITD-with-Solution-Processors-(apply-solution-processor-to-convert-voltage-values-solutions-from-rectangular-to-polar-coordinates)">Example Case #4: Solving OPFITD with Solution Processors (apply solution processor to convert voltage values solutions from <code>rectangular</code> to <code>polar</code> coordinates)</a><a id="Example-Case-#4:-Solving-OPFITD-with-Solution-Processors-(apply-solution-processor-to-convert-voltage-values-solutions-from-rectangular-to-polar-coordinates)-1"></a><a class="docs-heading-anchor-permalink" href="#Example-Case-#4:-Solving-OPFITD-with-Solution-Processors-(apply-solution-processor-to-convert-voltage-values-solutions-from-rectangular-to-polar-coordinates)" title="Permalink"></a></h2><h3 id="Test-Case-#4"><a class="docs-heading-anchor" href="#Test-Case-#4">Test Case #4</a><a id="Test-Case-#4-1"></a><a class="docs-heading-anchor-permalink" href="#Test-Case-#4" title="Permalink"></a></h3><p>In this example case, we want to solve the integrated T&amp;D optimal power flow (opfitd) problem for a case where we have the <strong>PJM 5-bus system</strong> (<code>case5_withload</code>) as the <em>transmission system</em> and the <strong>IEEE 4 Node Test Feeder</strong> (<code>case3_unbalanced.dss</code>) as the <em>distribution system</em>. The boundary information that specifies the respective boundary buses for both the transmission and distribution systems can be found in <code>case5_case3_unbal.json</code>.</p><p>Additionally, we are specificying a <code>PMD</code> transformation for the distribution system data. This <strong>transformation</strong> applies <strong>voltage bounds</strong> to all the nodes in the distribution system(s). The function is called <code>apply_voltage_bounds!(...)</code>.</p><p>Finally, we also want to solve this problem using the <strong>ACR-ACRU</strong> formulation (i.e., AC OPF in <strong>rectangular</strong> coordinates) instead of the ACP-ACPU formulation used previously. We also want to show that by applying the <code>solution processor</code> to the <code>solve_opfitd(...)</code> function, we can convert the solution from <strong>rectangular</strong> to <strong>polar</strong> coordinates (after the problem has been solved in <strong>rectangular</strong> coordinates).</p><h3 id="Julia-Code-for-Test-Case-#4"><a class="docs-heading-anchor" href="#Julia-Code-for-Test-Case-#4">Julia Code for Test Case #4</a><a id="Julia-Code-for-Test-Case-#4-1"></a><a class="docs-heading-anchor-permalink" href="#Julia-Code-for-Test-Case-#4" title="Permalink"></a></h3><pre><code class="language-julia hljs">using PowerModelsITD
using Ipopt

silence!()  # Silences the console, so warning messages or information are not displayed

files_path = joinpath(dirname(pathof(PowerModelsITD)), &quot;..&quot;)                    # file path for test cases files
pm_file = joinpath(files_path, &quot;test/data/transmission/case5_withload.m&quot;)       # transmission system file
pmd_file = joinpath(files_path, &quot;test/data/distribution/case3_unbalanced.dss&quot;)  # distribution system file
boundary_file = joinpath(files_path, &quot;test/data/json/case5_case3_unbal.json&quot;)   # boundary file with info. about boundary buses
formulation = NLPowerModelITD{ACRPowerModel, ACRUPowerModel}                    # type of formulation to be used

data_rect = parse_files(pm_file, pmd_file, boundary_file)                       # parse files into dictionary - rectangular
data_polar = deepcopy(data_rect)                                                # parse files into dictionary - polar

# apply voltage bounds to both datasets
apply_voltage_bounds!(data_rect; vm_lb=0.99, vm_ub=1.01)
apply_voltage_bounds!(data_polar; vm_lb=0.99, vm_ub=1.01)

# solve the optimization problem
result_rect = solve_opfitd(data_rect, formulation, Ipopt.Optimizer; make_si=false)                                          # solve the opfitd, present result in rectangular
result_polar = solve_opfitd(data_polar, formulation, Ipopt.Optimizer; make_si=false, solution_processors=[sol_data_model!]) # solve the opfitd, present the result in polar

# Check the result
@info &quot;Distribution system(s) voltages in rectangular coordinates: $(result_rect[&quot;solution&quot;][&quot;it&quot;][&quot;pmd&quot;][&quot;bus&quot;])&quot;
@info &quot;Distribution system(s) voltages in polar coordinates: $(result_polar[&quot;solution&quot;][&quot;it&quot;][&quot;pmd&quot;][&quot;bus&quot;])&quot;</code></pre><h3 id="Console-Output-for-Test-Case-#4"><a class="docs-heading-anchor" href="#Console-Output-for-Test-Case-#4">Console Output for Test Case #4</a><a id="Console-Output-for-Test-Case-#4-1"></a><a class="docs-heading-anchor-permalink" href="#Console-Output-for-Test-Case-#4" title="Permalink"></a></h3><p>After running the corresponding code, the user should get the following output displayed on the console.</p><pre><code class="language-julia hljs">[ Main | Info ] : Distribution system(s) voltages in rectangular coordinates: Dict{String, Any}(&quot;3bus_unbal.loadbus&quot; =&gt; Dict{String, Any}(&quot;vi&quot; =&gt; [-0.015511309363640641, -0.8545294554234174, 0.8655223138026301], &quot;vr&quot; =&gt; [0.9898784720063777, -0.5090601668099762, -0.4865386272048753]), &quot;3bus_unbal.substation&quot; =&gt; Dict{String, Any}(&quot;vi&quot; =&gt; [-0.013423594907906103, -0.8590267647200966, 0.872425011363218], &quot;vr&quot; =&gt; [0.9996526099437699, -0.5114290820733716, -0.48822534573738224]), &quot;3bus_unbal.primary&quot; =&gt; Dict{String, Any}(&quot;vi&quot; =&gt; [-0.014411577636549404, -0.8569394862376708, 0.8692352392326611], &quot;vr&quot; =&gt; [0.9951341025954522, -0.5103432319817417, -0.4874288450833038]), &quot;3bus_unbal.sourcebus&quot; =&gt; Dict{String, Any}(&quot;vi&quot; =&gt; [-0.01338512498983875, -0.8590581872270858, 0.8724303155121654], &quot;vr&quot; =&gt; [0.9996733881089848, -0.5114171375591623, -0.4882586014767347]))

[ Main | Info ] : Distribution system(s) voltages in polar coordinates: Dict{String, Any}(&quot;3bus_unbal.loadbus&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8977463956228972, -120.78309686739179, 119.34177619725007], &quot;vm&quot; =&gt; [0.989999994979725, 0.9946672024445378, 0.9928991446530021]), &quot;3bus_unbal.substation&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.7693363704348831, -120.76782279518537, 119.23219208076581], &quot;vm&quot; =&gt; [0.9997427336408314, 0.9997433113034004, 0.9997446617374346]), &quot;3bus_unbal.primary&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8297021010938084, -120.77556387092758, 119.28178890104428], &quot;vm&quot; =&gt; [0.9952384516880516, 0.9973943540560338, 0.9965725162491212]), &quot;3bus_unbal.sourcebus&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.767115894005601, -120.7663133943784, 119.23370677869384], &quot;vm&quot; =&gt; [0.9997629941462579, 0.9997642010149662, 0.9997655311825235]))</code></pre><h2 id="Example-Case-#5:-Solving-OPFITD-with-Results-in-MATH-Model-(instead-of-default-ENG)"><a class="docs-heading-anchor" href="#Example-Case-#5:-Solving-OPFITD-with-Results-in-MATH-Model-(instead-of-default-ENG)">Example Case #5: Solving OPFITD with Results in <code>MATH</code> Model (instead of default <code>ENG</code>)</a><a id="Example-Case-#5:-Solving-OPFITD-with-Results-in-MATH-Model-(instead-of-default-ENG)-1"></a><a class="docs-heading-anchor-permalink" href="#Example-Case-#5:-Solving-OPFITD-with-Results-in-MATH-Model-(instead-of-default-ENG)" title="Permalink"></a></h2><h3 id="Test-Case-#5"><a class="docs-heading-anchor" href="#Test-Case-#5">Test Case #5</a><a id="Test-Case-#5-1"></a><a class="docs-heading-anchor-permalink" href="#Test-Case-#5" title="Permalink"></a></h3><p>In this example case, we want to solve the integrated T&amp;D optimal power flow (opfitd) problem for a case where we have the <strong>PJM 5-bus system</strong> (<code>case5_withload</code>) as the <em>transmission system</em> and the <strong>IEEE 4 Node Test Feeder</strong> (<code>case3_unbalanced.dss</code>) as the <em>distribution system</em>. The boundary information that specifies the respective boundary buses for both the transmission and distribution systems can be found in <code>case5_case3_unbal.json</code>.</p><p>The formulation used to solve this optimization problem is the <strong>ACP-ACPU</strong> formulation.</p><p>However, different from all the examples presented above, in this case, the result of the <strong>distribution systems</strong> will be obtained in the <strong>MATH</strong> model instead of the default <strong>ENG</strong> model. See <a href="https://lanl-ansi.github.io/PowerModelsDistribution.jl/stable/manual/eng-data-model.html">here</a> for a more detailed explanation regarding the different models supported by <code>PMD/PMITD</code>.</p><h3 id="Julia-Code-for-Test-Case-#5"><a class="docs-heading-anchor" href="#Julia-Code-for-Test-Case-#5">Julia Code for Test Case #5</a><a id="Julia-Code-for-Test-Case-#5-1"></a><a class="docs-heading-anchor-permalink" href="#Julia-Code-for-Test-Case-#5" title="Permalink"></a></h3><pre><code class="language-julia hljs">using PowerModelsITD
using Ipopt

silence!()  # Silences the console, so warning messages or information are not displayed

files_path = joinpath(dirname(pathof(PowerModelsITD)), &quot;..&quot;)                    # file path for test cases files
pm_file = joinpath(files_path, &quot;test/data/transmission/case5_withload.m&quot;)       # transmission system file
pmd_file = joinpath(files_path, &quot;test/data/distribution/case3_unbalanced.dss&quot;)  # distribution system file
boundary_file = joinpath(files_path, &quot;test/data/json/case5_case3_unbal.json&quot;)   # boundary file with info. about boundary buses
formulation = NLPowerModelITD{ACPPowerModel, ACPUPowerModel}                    # type of formulation to be used
data = parse_files(pm_file, pmd_file, boundary_file)                            # parse files into dictionary
result = solve_opfitd(data, formulation, Ipopt.Optimizer; solution_model=&quot;MATH&quot;) # solve the opfitd, present result in MATH model instead of default ENG

# Check the result
@info &quot;Objective: $(result[&quot;objective&quot;]) [\$/hr]&quot;
@info &quot;Termination Status of Solver: $(result[&quot;termination_status&quot;])&quot;
@info &quot;Solve Time: $(result[&quot;solve_time&quot;]) [seconds]&quot;
@info &quot;Solution Values (MATH model) for Distribution system(s): $(result[&quot;solution&quot;][&quot;it&quot;][&quot;pmd&quot;])&quot;
@info &quot;Solution Values (MATH model) for Boundary(ies): $(result[&quot;solution&quot;][&quot;it&quot;][&quot;pmitd&quot;])&quot;
</code></pre><h3 id="Console-Output-for-Test-Case-#5"><a class="docs-heading-anchor" href="#Console-Output-for-Test-Case-#5">Console Output for Test Case #5</a><a id="Console-Output-for-Test-Case-#5-1"></a><a class="docs-heading-anchor-permalink" href="#Console-Output-for-Test-Case-#5" title="Permalink"></a></h3><p>After running the corresponding code, the user should get the following output displayed on the console.</p><pre><code class="language-julia hljs">[ Main | Info ] : Objective: 17953.746512039743 [$/hr]
[ Main | Info ] : Termination Status of Solver: LOCALLY_SOLVED
[ Main | Info ] : Solve Time: 0.07705187797546387 [seconds]

[ Main | Info ] : Solution Values (MATH model) for Distribution system(s): Dict{String, Any}(&quot;branch&quot; =&gt; Dict{String, Any}(&quot;4&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; [1354.795202241865, 1507.3400640138161, 1504.5761375753734], &quot;qt&quot; =&gt; [-1354.6163225169614, -1507.2344513630767, -1504.4700979169072], &quot;pt&quot; =&gt; [-3367.119671256992, -2346.3650144634003, -2354.829891017304], &quot;pf&quot; =&gt; [3367.119671256992, 2346.3650144634003, 2354.8298910173044]), &quot;1&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; [1344.7785535214057, 1503.9392726830868, 1502.43791779139], &quot;qt&quot; =&gt; [-1333.3300000000002, -1500.0000000000002, -1500.0000000000002], &quot;pt&quot; =&gt; [-3333.3323371531164, -2333.3323371935803, -2333.3323371900296], &quot;pf&quot; =&gt; [3351.5305232165006, 2340.3516279866967, 2344.8964126191295]), &quot;5&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; [1354.7952022418647, 1507.3400640138161, 1504.5761375753734], &quot;qt&quot; =&gt; [-1354.795202241865, -1507.3400640138161, -1504.5761375753734], &quot;pt&quot; =&gt; [-3367.119671256992, -2346.3650144634003, -2354.8298910173044], &quot;pf&quot; =&gt; [3367.1286152278885, 2346.3702946258413, 2354.835193007617]), &quot;2&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; [1354.6163225169614, 1507.2344513630765, 1504.4700979169072], &quot;qt&quot; =&gt; [-1344.7785535214057, -1503.9392726830868, -1502.43791779139], &quot;pt&quot; =&gt; [-3351.5305232165006, -2340.3516279866967, -2344.8964126191295], &quot;pf&quot; =&gt; [3367.110727286094, 2346.3597337552624, 2354.8245890269895]), &quot;6&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; [1355.0096276913357, 1507.4706735124998, 1504.7037665348369], &quot;qt&quot; =&gt; [-1354.7952022418647, -1507.3400640138161, -1504.5761375753734], &quot;pt&quot; =&gt; [-3367.1286152278885, -2346.3702946258413, -2354.835193007617], &quot;pf&quot; =&gt; [3367.1850486607445, 2346.4026604158908, 2354.8649645151804]), &quot;3&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; [-1354.6163225169614, -1507.2344513630765, -1504.4700979169072], &quot;qt&quot; =&gt; [1354.6163225169614, 1507.2344513630767, 1504.4700979169072], &quot;pt&quot; =&gt; [3367.119671256992, 2346.3650144634003, 2354.829891017304], &quot;pf&quot; =&gt; [-3367.110727286094, -2346.3597337552624, -2354.8245890269895])), &quot;gen&quot; =&gt; Dict{String, Any}(&quot;1&quot; =&gt; Dict{String, Any}(&quot;qg_bus&quot; =&gt; [-0.0, -0.0, -0.0], &quot;qg&quot; =&gt; [-0.0, -0.0, -0.0], &quot;pg&quot; =&gt; [666.6676628468832, 666.6676628064197, 666.6676628099706], &quot;pg_bus&quot; =&gt; [666.6676628468832, 666.6676628064197, 666.6676628099706])), &quot;transformer&quot; =&gt; Dict{String, Any}(&quot;1&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; [1354.7952022418647, 1507.3400640138161, 1504.5761375753734], &quot;qt&quot; =&gt; [-1354.7952022418647, -1507.3400640138161, -1504.5761375753734], &quot;pt&quot; =&gt; [-3367.1286152278885, -2346.3702946258413, -2354.835193007617], &quot;pf&quot; =&gt; [3367.1286152278885, 2346.3702946258413, 2354.835193007617]), &quot;2&quot; =&gt; Dict{String, Any}(&quot;qf&quot; =&gt; [-1354.6163225169614, -1507.2344513630765, -1504.4700979169072], &quot;qt&quot; =&gt; [1354.6163225169614, 1507.2344513630765, 1504.4700979169072], &quot;pt&quot; =&gt; [3367.110727286094, 2346.3597337552624, 2354.8245890269895], &quot;pf&quot; =&gt; [-3367.110727286094, -2346.3597337552624, -2354.8245890269895])), &quot;settings&quot; =&gt; Dict{String, Any}(&quot;sbase_default&quot; =&gt; 100000.0, &quot;vbases_default&quot; =&gt; Dict{String, Real}(&quot;4&quot; =&gt; 132.79056191361394), &quot;voltage_scale_factor&quot; =&gt; 1000.0, &quot;sbase&quot; =&gt; 100000.0, &quot;power_scale_factor&quot; =&gt; 1000.0, &quot;base_frequency&quot; =&gt; 60.0), &quot;multinetwork&quot; =&gt; false, &quot;load&quot; =&gt; Dict{String, Any}(&quot;1&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [1500.0000000000002], &quot;pd_bus&quot; =&gt; [3000.0000000000005], &quot;qd&quot; =&gt; [1500.0000000000002], &quot;pd&quot; =&gt; [3000.0000000000005]), &quot;2&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [1500.0000000000002], &quot;pd_bus&quot; =&gt; [3000.0000000000005], &quot;qd&quot; =&gt; [1500.0000000000002], &quot;pd&quot; =&gt; [3000.0000000000005]), &quot;3&quot; =&gt; Dict{String, Any}(&quot;qd_bus&quot; =&gt; [1333.3300000000002], &quot;pd_bus&quot; =&gt; [4000.0], &quot;qd&quot; =&gt; [1333.3300000000002], &quot;pd&quot; =&gt; [4000.0])), &quot;bus&quot; =&gt; Dict{String, Any}(&quot;8&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8064197613818459, -120.80551025323088, 119.19451148306055], &quot;vm&quot; =&gt; [0.5427404621782935, 0.5427412225103798, 0.5427420415368795]), &quot;4&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8064197613818459, -120.80551025323088, 119.19451148306055], &quot;vm&quot; =&gt; [124.83030630100751, 124.83048117738736, 124.8306695534823]), &quot;1&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.9542852429015141, -120.82463162589393, 119.31695673367102], &quot;vm&quot; =&gt; [7.406969380817659, 7.446613395025093, 7.431619824571949]), &quot;5&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8089868491003656, -120.80727720360223, 119.19273784447546], &quot;vm&quot; =&gt; [0.5427292370876581, 0.542729249043147, 0.5427300853404582]), &quot;2&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8089341499650244, -120.8072185671511, 119.19279637320398], &quot;vm&quot; =&gt; [7.489646348633082, 7.489651704574486, 7.489663202448464]), &quot;6&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8089341499650244, -120.8072185671511, 119.19279637320398], &quot;vm&quot; =&gt; [0.5427279962777596, 0.5427283843894555, 0.5427292175687293]), &quot;7&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8063670574676239, -120.8054516152584, 119.19457001333551], &quot;vm&quot; =&gt; [0.5427392213907619, 0.5427403578738178, 0.5427411737823131]), &quot;9&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8036120919989638, -120.80361209199894, 119.19638790800104], &quot;vm&quot; =&gt; [124.83485996888251, 124.83485996888251, 124.83485996888251]), &quot;3&quot; =&gt; Dict{String, Any}(&quot;va&quot; =&gt; [-0.8772138344778904, -120.81603057758366, 119.24896754768255], &quot;vm&quot; =&gt; [7.4514218741879255, 7.4697354940559455, 7.462765580863505])), &quot;per_unit&quot; =&gt; false)

[ Main | Info ] : Solution Values (MATH model) for Boundary(ies): Dict{String, Any}(&quot;multinetwork&quot; =&gt; false, &quot;boundary&quot; =&gt; Dict{String, Any}(&quot;(100001, 9, 5)&quot; =&gt; Dict{String, Any}(&quot;pbound_to&quot; =&gt; [-3367.1850486607445, -2346.4026604158908, -2354.8649645151804], &quot;qbound_to&quot; =&gt; [-1355.0096276913357, -1507.4706735124998, -1504.7037665348369]), &quot;(100001, 5, 9)&quot; =&gt; Dict{String, Any}(&quot;pbound_fr&quot; =&gt; [8068.452673591816], &quot;qbound_fr&quot; =&gt; [4367.184067738673])))</code></pre><p>As seen in the console output, the nodes/buses are now referenced by their <code>MATH</code> names (i.e., numbers) and not their actual <code>ENG</code> name.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../manual/storage.html">« Storage</a><a class="docs-footer-nextpage" href="../reference/base.html">Base »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Thursday 19 September 2024 15:45">Thursday 19 September 2024</span>. Using Julia version 1.10.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
